(this["webpackJsonpperson-manager"]=this["webpackJsonpperson-manager"]||[]).push([[0],{60:function(e,t,a){e.exports=a(86)},86:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(7),c=a.n(o),i=a(133),u=a(121),s=a(137),m=a(18),d=a(4),p=a(130),b=a(132),f=a(127),E=a(129),y=a(131),v=a(128),g=a(125),h=a(39),O=a.n(h),j=a(51),w=a(19),C=a(52),S=a.n(C),k="https://randomuser.me/api";function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return S.a.get("".concat(k,"?results=").concat(e,"&inc=name,location,email,login,picture"))}!function(e){e[e.addUsers=0]="addUsers",e[e.editUser=1]="editUser",e[e.removeUser=2]="removeUser",e[e.setLoading=3]="setLoading",e[e.setError=4]="setError"}(n||(n={}));var U={users:JSON.parse(window.localStorage.getItem("users"))||[],isLoading:!1,error:""},L=Object(r.createContext)({state:U,dispatch:function(){return null}});function x(e){window.localStorage.setItem("users",JSON.stringify(e))}function J(e,t){switch(t.type){case n.setLoading:return Object(w.a)({},e,{isLoading:t.payload});case n.addUsers:return x(t.payload),Object(w.a)({},e,{users:t.payload});case n.editUser:var a=e.users.map((function(e){return e.login.uuid===t.payload.id?Object(w.a)({},e,{},t.payload.data):e}));return x(a),Object(w.a)({},e,{users:a});case n.removeUser:var r=e.users.filter((function(e){return e.login.uuid!==t.payload}));return x(r),Object(w.a)({},e,{users:r});default:return e}}function B(e){var t=e.children,a=Object(r.useReducer)(J,U),o=Object(m.a)(a,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({type:n.setLoading,payload:!0}),e.next=4,N();case 4:t=e.sent,a=t.data.results,i({type:n.addUsers,payload:a}),i({type:n.setLoading,payload:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i({type:n.setLoading,payload:!1}),i({type:n.setError,payload:"Something went wrong"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}0===c.users.length&&function(){e.apply(this,arguments)}()}),[c.users]),l.a.createElement(L.Provider,{value:{state:c,dispatch:i}},t)}var I=a(136),W=Object(u.a)((function(){return Object(s.a)({paper:{position:"absolute",width:400,backgroundColor:"#fff",border:"2px solid #000",padding:"40px",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}));var z=function(e){var t=e.children,a=e.isOpen,n=e.handleClose,r=W();return l.a.createElement("div",null,l.a.createElement(I.a,{open:a,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},l.a.createElement("div",{className:r.paper},t)))},F=a(32),R=a(134),A=a(135),D=a(126);var M=Object(d.a)((function(){return Object(s.a)({root:{marginBottom:20}})}))(D.a),P=function(e){var t=e.data,a=e.onSubmit,o=Object(r.useContext)(L).dispatch,c=Object(r.useState)({firstName:t.name.first,lastName:t.name.last,country:t.location.country,city:t.location.city,email:t.email}),i=Object(m.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(!0),p=Object(m.a)(d,2),b=p[0],f=p[1];function E(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(w.a)({},e,Object(F.a)({},a,n))}))}return l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!u.email)return f(!1);var r={id:t.login.uuid,data:{name:{first:u.firstName,last:u.lastName},location:{country:u.country,city:u.city},email:u.email}};o({type:n.editUser,payload:r}),a()}},l.a.createElement(M,null,l.a.createElement(R.a,{name:"firstName",onChange:E,label:"First name",value:u.firstName})),l.a.createElement(M,null,l.a.createElement(R.a,{name:"lastName",onChange:E,label:"Last name",value:u.lastName})),l.a.createElement(M,null,l.a.createElement(R.a,{name:"country",onChange:E,label:"Country",value:u.country})),l.a.createElement(M,null,l.a.createElement(R.a,{name:"city",onChange:E,label:"City",value:u.city})),l.a.createElement(M,null,l.a.createElement(R.a,{error:!b,name:"email",onChange:E,label:"Email",value:u.email})),l.a.createElement(M,null,l.a.createElement(A.a,{variant:"outlined",type:"submit",color:"primary"},"Submit")))},T=Object(d.a)((function(e){return Object(s.a)({head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}})}))(f.a),$=Object(d.a)((function(e){return Object(s.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(v.a),q=Object(u.a)({table:{minWidth:700}});var G=function(){var e=q(),t=Object(r.useContext)(L),a=t.state,o=t.dispatch,c=Object(r.useState)(),i=Object(m.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(!1),f=Object(m.a)(d,2),h=f[0],O=f[1];function j(){O(!1)}return l.a.createElement("div",null,l.a.createElement(E.a,{component:g.a},l.a.createElement(p.a,{className:e.table,"aria-label":"customized table"},l.a.createElement(y.a,null,l.a.createElement(v.a,null,l.a.createElement(T,null,"First name"),l.a.createElement(T,null,"Last name"),l.a.createElement(T,null,"City"),l.a.createElement(T,null,"Country"),l.a.createElement(T,null,"Thumbnail"),l.a.createElement(T,null,"Email"),l.a.createElement(T,null,"Actions"))),l.a.createElement(b.a,null,a.users.map((function(e){return l.a.createElement($,{key:e.login.uuid},l.a.createElement(T,{component:"th",scope:"row"},e.name.first),l.a.createElement(T,null,e.name.last),l.a.createElement(T,null,e.location.city),l.a.createElement(T,null,e.location.country),l.a.createElement(T,null,l.a.createElement("img",{src:e.picture.thumbnail,alt:e.name.first})),l.a.createElement(T,null,e.email),l.a.createElement(T,null,l.a.createElement("span",{onClick:function(){return function(e){O(!0),s(e)}(e)}},"Edit")," |"," ",l.a.createElement("span",{onClick:function(){return t=e.login.uuid,void o({type:n.removeUser,payload:t});var t}},"Remove")))}))))),u&&l.a.createElement(z,{isOpen:h,handleClose:j},l.a.createElement(P,{onSubmit:j,data:u})))},H=Object(u.a)((function(){return Object(s.a)({paper:{width:400,height:400,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}));var K=function(){var e=H(),t=Object(r.useContext)(L).state,a=t.isLoading,n=t.error;return a?l.a.createElement(i.a,{className:e.paper}):n?l.a.createElement("div",null,n):l.a.createElement(G,null)};var Q=function(){return l.a.createElement(B,null,l.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.a8ec2801.chunk.js.map