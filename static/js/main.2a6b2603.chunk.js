(this["webpackJsonpperson-manager"]=this["webpackJsonpperson-manager"]||[]).push([[0],{67:function(e,t,a){e.exports=a(93)},93:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(8),c=a.n(o),i=a(150),u=a(134),s=a(155),m=a(14),d=a(4),p=a(147),b=a(149),f=a(144),E=a(146),y=a(148),v=a(145),g=a(138),h=a(42),O=a.n(h),j=a(57),C=a(23),w=a(58),S=a.n(w),k="https://randomuser.me/api";function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return S.a.get("".concat(k,"?results=").concat(e,"&inc=name,location,email,login,picture"))}!function(e){e[e.addUsers=0]="addUsers",e[e.editUser=1]="editUser",e[e.removeUser=2]="removeUser",e[e.setLoading=3]="setLoading",e[e.setError=4]="setError"}(n||(n={}));var U={users:JSON.parse(window.localStorage.getItem("users"))||[],isLoading:!1,error:""},L=Object(r.createContext)({state:U,dispatch:function(){return null}});function x(e){window.localStorage.setItem("users",JSON.stringify(e))}function J(e,t){switch(t.type){case n.setLoading:return Object(C.a)({},e,{isLoading:t.payload});case n.addUsers:return x(t.payload),Object(C.a)({},e,{users:t.payload});case n.editUser:var a=e.users.map((function(e){return e.login.uuid===t.payload.id?Object(C.a)({},e,{},t.payload.data):e}));return x(a),Object(C.a)({},e,{users:a});case n.removeUser:var r=e.users.filter((function(e){return e.login.uuid!==t.payload}));return x(r),Object(C.a)({},e,{users:r});default:return e}}function B(e){var t=e.children,a=Object(r.useReducer)(J,U),o=Object(m.a)(a,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i({type:n.setLoading,payload:!0}),e.next=4,N();case 4:t=e.sent,a=t.data.results,i({type:n.addUsers,payload:a}),i({type:n.setLoading,payload:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),i({type:n.setLoading,payload:!1}),i({type:n.setError,payload:"Something went wrong"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}0===c.users.length&&function(){e.apply(this,arguments)}()}),[c.users]),l.a.createElement(L.Provider,{value:{state:c,dispatch:i}},t)}var D=a(153),F=Object(u.a)((function(){return Object(s.a)({paper:{position:"absolute",width:400,backgroundColor:"#fff",border:"2px solid #000",padding:"40px",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}));var I=function(e){var t=e.children,a=e.isOpen,n=e.handleClose,r=F();return l.a.createElement("div",null,l.a.createElement(D.a,{open:a,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},l.a.createElement("div",{className:r.paper},t)))},W=a(35),z=a(151),A=a(152),R=a(139);var T=Object(d.a)((function(){return Object(s.a)({root:{marginBottom:20}})}))(R.a),q=function(e){var t=e.data,a=e.onSubmit,o=Object(r.useContext)(L).dispatch,c=Object(r.useState)({firstName:t.name.first,lastName:t.name.last,country:t.location.country,city:t.location.city,email:t.email}),i=Object(m.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(!0),p=Object(m.a)(d,2),b=p[0],f=p[1];function E(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(C.a)({},e,Object(W.a)({},a,n))}))}return l.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!u.email)return f(!1);var r={id:t.login.uuid,data:{name:{first:u.firstName,last:u.lastName},location:{country:u.country,city:u.city},email:u.email}};o({type:n.editUser,payload:r}),a()}},l.a.createElement(T,null,l.a.createElement(z.a,{name:"firstName",onChange:E,label:"First name",value:u.firstName})),l.a.createElement(T,null,l.a.createElement(z.a,{name:"lastName",onChange:E,label:"Last name",value:u.lastName})),l.a.createElement(T,null,l.a.createElement(z.a,{name:"country",onChange:E,label:"Country",value:u.country})),l.a.createElement(T,null,l.a.createElement(z.a,{name:"city",onChange:E,label:"City",value:u.city})),l.a.createElement(T,null,l.a.createElement(z.a,{error:!b,name:"email",type:"email",required:!0,onChange:E,label:"Email",value:u.email})),l.a.createElement(T,null,l.a.createElement(A.a,{variant:"outlined",type:"submit",color:"primary"},"Submit")))},M=a(154),P=a(143),Y=a(141),$=a(142),G=a(140);var H=function(e){var t=e.isOpen,a=e.onConfirm,n=e.onDecline,r=l.a.useState(t),o=Object(m.a)(r,2),c=o[0],i=o[1];return l.a.createElement("div",null,l.a.createElement(M.a,{open:c,onClose:function(){i(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(G.a,{id:"alert-dialog-title"},"Are you sure?"),l.a.createElement(Y.a,null,l.a.createElement($.a,{id:"alert-dialog-description"},"The operation is irreversible")),l.a.createElement(P.a,null,l.a.createElement(A.a,{onClick:n,color:"primary"},"No"),l.a.createElement(A.a,{onClick:a,color:"primary",autoFocus:!0},"Yes"))))},K=Object(d.a)((function(e){return Object(s.a)({head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}})}))(f.a),Q=Object(d.a)((function(e){return Object(s.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(v.a),V=Object(u.a)({table:{minWidth:700}});var X=function(){var e=V(),t=Object(r.useContext)(L),a=t.state,o=t.dispatch,c=Object(r.useState)(),i=Object(m.a)(c,2),u=i[0],s=i[1],d=Object(r.useState)(),f=Object(m.a)(d,2),h=f[0],O=f[1],j=Object(r.useState)(!1),C=Object(m.a)(j,2),w=C[0],S=C[1];function k(){S(!1)}return l.a.createElement("div",null,l.a.createElement(E.a,{component:g.a},l.a.createElement(p.a,{className:e.table,"aria-label":"customized table"},l.a.createElement(y.a,null,l.a.createElement(v.a,null,l.a.createElement(K,null,"First name"),l.a.createElement(K,null,"Last name"),l.a.createElement(K,null,"City"),l.a.createElement(K,null,"Country"),l.a.createElement(K,null,"Thumbnail"),l.a.createElement(K,null,"Email"),l.a.createElement(K,null,"Actions"))),l.a.createElement(b.a,null,a.users.map((function(e){return l.a.createElement(Q,{key:e.login.uuid},l.a.createElement(K,{component:"th",scope:"row"},e.name.first),l.a.createElement(K,null,e.name.last),l.a.createElement(K,null,e.location.city),l.a.createElement(K,null,e.location.country),l.a.createElement(K,null,l.a.createElement("img",{src:e.picture.thumbnail,alt:e.name.first})),l.a.createElement(K,null,e.email),l.a.createElement(K,null,l.a.createElement("span",{onClick:function(){return function(e){S(!0),s(e)}(e)}},"Edit")," |"," ",l.a.createElement("span",{onClick:function(){return t=e.login.uuid,void O(t);var t}},"Remove")))}))))),u&&l.a.createElement(I,{isOpen:w,handleClose:k},l.a.createElement(q,{onSubmit:k,data:u})),h&&l.a.createElement(H,{isOpen:!!h,onConfirm:function(){return e=h,o({type:n.removeUser,payload:e}),void O("");var e},onDecline:function(){return O("")}}))},Z=Object(u.a)((function(){return Object(s.a)({paper:{width:400,height:400,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}));var _=function(){var e=Z(),t=Object(r.useContext)(L).state,a=t.isLoading,n=t.error;return a?l.a.createElement(i.a,{className:e.paper}):n?l.a.createElement("div",null,n):l.a.createElement(X,null)};var ee=function(){return l.a.createElement(B,null,l.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.2a6b2603.chunk.js.map